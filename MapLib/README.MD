## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–î–ª—è —Ä–∞–±–æ—Ç—ã –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —á–∞—Å—Ç–µ–π —Å–∏—Å—Ç–µ–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å **—Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –∫–∞—Ä—Ç—É –º–∏—Ä–∞**.  
–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∫–∞—Ä—Ç–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —á—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∑–∞–≤–∏—Å–∏–º—ã—Ö –º–æ–¥—É–ª–µ–π.

---

## üéØ –¶–µ–ª—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `MapLib`, –∫–æ—Ç–æ—Ä–∞—è:
- —Ö—Ä–∞–Ω–∏—Ç –∫–∞—Ä—Ç—É —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ `1000 √ó 1000` —Ç–∞–π–ª–æ–≤;
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–π–ª–∞–º –∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è–º;
- —É–º–µ–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É-–∑–∞–≥–ª—É—à–∫—É –¥–ª—è PoC (Proof of Concept).

---

## ‚öôÔ∏è –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|-------------|
| `MapManager` | –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ–π (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –¥–æ—Å—Ç—É–ø) |
| `TileEncoder` | –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–π–ª–∞ (`long`) |
| `TerritoryInfo` | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ |
| `TileType` | –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ç–∞–π–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Grass`, `Mountain`) |

---

### üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ä—Ç—ã

- **–†–∞–∑–º–µ—Ä:** `1000 √ó 1000` —Ç–∞–π–ª–æ–≤ (1 000 000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** `long[] _tiles`
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–π–ª–∞ (`long`):**
	- –ú–ª–∞–¥—à–∏–µ 8 –±–∏—Ç ‚Üí —Ç–∏–ø —Ç–∞–π–ª–∞ (`TileType`)
	- –°—Ç–∞—Ä—à–∏–µ 32 –±–∏—Ç–∞ ‚Üí ID —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ (`int`)
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è—Ö:** `Dictionary<int, TerritoryInfo>`

---

### üßÆ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
index = y * width + x

- `width = 1000`
- `height = 1000`

---


### üß∞ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–∞—Ä—Ç—ã-–∑–∞–≥–ª—É—à–∫–∏

–ú–µ—Ç–æ–¥ `GenerateMap(int territoryCount = 100)`:
- —Å–æ–∑–¥–∞—ë—Ç –∫–∞—Ä—Ç—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî 100);
- —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∞–π–ª—ã (—Ä–∞–≤–Ω–∏–Ω—ã / –≥–æ—Ä—ã);
- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è—Ö (`Id`, `Name`).

---


## üß≠ API / –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

| –ú–µ—Ç–æ–¥ | –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------------------------|----------|
| `GenerateMap(int territoryCount = 100)` | `void` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç—ã-–∑–∞–≥–ª—É—à–∫–∏ |
| `GetTile(int x, int y)` | `long` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∞–π–ª |
| `GetTileType(int x, int y)` | `TileType` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø —Ç–∞–π–ª–∞ |
| `GetTerritoryId(int x, int y)` | `int` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç ID —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ |
| `GetTerritoryInfo(int id)` | `TerritoryInfo` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ |

---


## üß™ Unit-—Ç–µ—Å—Ç—ã

–ü–æ–∫—Ä—ã–≤–∞—é—Ç:
- –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (`TileEncoderTests`);
- –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (`MapManagerTests`);
- –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Ç–µ—á–µ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö `GenerateMap`;
- –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –æ —Ç–∞–π–ª–∞—Ö –∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è—Ö.

### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞

```csharp
[Fact]
public void GenerateMap_ShouldInitializeTilesAndTerritories()
{
	MapManager.GenerateMap(50);

	var tile = MapManager.GetTile(0, 0);
	var tileType = MapManager.GetTileType(0, 0);
	var territoryId = MapManager.GetTerritoryId(0, 0);
	var info = MapManager.GetTerritoryInfo(territoryId);

	Assert.InRange((int)tileType, 0, 1);
	Assert.InRange(territoryId, 1, 50);
	Assert.NotNull(info);
	Assert.Equal(territoryId, info.Id);
}

## üß∞ –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

dotnet build
dotnet test

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
MapLib/
 ‚îú‚îÄ MapLib/
 ‚îÇ   ‚îú‚îÄ MapManager.cs
 ‚îÇ   ‚îú‚îÄ Map/
 ‚îÇ   ‚îÇ   ‚îú‚îÄ Enums/
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ TileType.cs
 ‚îÇ   ‚îÇ   ‚îú‚îÄ Helpers/
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ TileEncoder.cs
 ‚îÇ   ‚îÇ   ‚îî‚îÄ Objects/
 ‚îÇ   ‚îÇ       ‚îî‚îÄ TerritoryInfo.cs
 ‚îÇ
 ‚îú‚îÄ Tests/
 ‚îÇ   ‚îú‚îÄ MapManagerTests.cs
 ‚îÇ   ‚îî‚îÄ TileEncoderTests.cs
 ‚îÇ
 ‚îî‚îÄ README.md
 
 üßæ –ß–µ–∫-–ª–∏—Å—Ç —Å—Ç–∞—Ç—É—Å–∞
–ó–∞–¥–∞—á–∞	–°—Ç–∞—Ç—É—Å
–ö–æ–¥ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫	‚úÖ
–ù–∞–ø–∏—Å–∞–Ω—ã —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–π–ª–∞–º –∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è–º	‚úÖ
–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã	‚úÖ
Pipeline –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ	‚öôÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—é –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ Confluence	üïì –í –ø—Ä–æ—Ü–µ—Å—Å–µ

